## 　　Lesson12.　randomユーティリティを使用する  
#### 開発メモ
### 1.randomユーティリティ
　おまかせ表示の乱数として利用しています
<br>　初期の段階では0から99の乱数を発生させてロジックで表示させていましたが
<br>　ユーティリティをキーワード（Word from list）の方式にすると
<br>　RunScriptいらずのコードレスワークフローになりました
<br>　randomユーティリティのサンプルとしては打って付けですね　
<br>　当初のワークフローは青いオブジェクトとして残しています
<br>
<br>　なお、最終的に選択肢は500個になりましたが、
<br>　大部分は『カテゴリー内おまかせ表示』を利用しており、総ページ数は50,000ページ以上
<br>　もちろんお好きなにカスタマイズ可能です
### 2.randomの結果をフィードバックする
　単におまかせとしてウィキペディアのページを表示させるだけで良いのですが
<br>　演出としてrandomの結果をフィードバックしています
<br>　URLエンコードもない日本語なので、そのままLarge Typeしてるだけです
### 3.テストドライバーを作る
　お遊びツールなので作りっぱなしで良いのですが、テストする必要があるかもしれません
<br>　HOTKEYやインプットのキーワードから接続すれば、特定の表示をテストできます
<br>　どちらかというと、『カテゴリー内おまかせ表示』をテストしたく作成しました
<br>　オレンジのオブジェクトとして残しています
### 4.numbers.appを使ってソースをつくる
　500もの選択肢となるtソースが面倒なので、numbers.appで編集してみました
<br>　エクセルのように数式がを使ってコードを生成できます（最終的にソースコードレスになりましたが）
<br>　重複がないかどうかのチェックもできます
<br>　randomユーティリティへの作り込みは、列選択のコピペ1発で済みました
<br>　[こちらからどうぞ](https://github.com/KitanoTamotsu/wikipedia/releases/download/1.1/wikipedia.numbers)
<br>　因みに、カテゴリーに含まれる下位のカテゴリー数やページ数の情報もつけています（手作業です）
<br>　下位カテゴリーが0のものみを選択肢にしたいときななどに便利かも
### 5.ブラウザの表示が遅いことへの対応
　このワークフローに限ったことではないのですが、ブラウザの表示がかなり遅いことがあります
<br>　そんなときには手動でキャッシュをクリアすると、すぐにそのページが表示されたりします
<br>　Alfredでは、キー送信を行うオブジェクト（Key Combo）があり、
<br>　例えばSafariのキャッシュクリアのショートカットである⌥⌘Eを送信することができます
<br>　また処理をウエイトさせるオブジェクト（delayユーティリティ）がありタイミングの調整も可能です
<br>　（Large typeが早いと干渉してSafariへショートカットが届かないので遅延させました）
<br>　フローつないでいませんが、白いオブジェクトを残しておきました
<br>　因みに私のデフォルトブラウザはSafariです

#### 背景
　ウィキペディアにおまかせ表示というツールがあることは知っていましたが
<br>　興味のないトピックスも多く使えないツールでした
<br>　特別ページの一覧やメインページをみていたら、カテゴリー内おまかせ表示というツールをみつけ、
<br>　これだ！と思いつくってみました
<br>　ウィキペディアの世界を堪能してください
<br>
<br>　※私の興味で選択肢を作成していまます
<br>　　性的な表現や画像、犯罪や暴力に関するページが表示されることがあるのでご了承ください
<br>　（もち公式なウィキペディアのページです）

#### 取扱説明
### 機能:
　ウィキペディアをランダムに表示させる
<br>　※ある程度のカスタマイズが可能です
### インストール:
　1.[Alfredworkflow](https://github.com/KitanoTamotsu/wikipedia/releases/download/1.1/wikipedia.alfredworkflow.zip)をダウンロード 
<br>　2.ファイルをダブルクリックしてワークフローに登録
### 使い方:
　HOTKEY『⌃w』で起動
<br>　（ホットキーはご自身で設定が必要です）
#### 修正履歴

### ver1.1(2021-04-04)：
　シェルスクリプトをbashからzshに変更しました

<br>
<br>
[トップページに戻る](https://kitanotamotsu.github.io/)

